<!DOCTYPE html>
<html>
  <head>
    <title>Test Recommendation Engine</title>
  </head>
  <body>
    <h1>ğŸ§ª Test Recommendation Engine</h1>
    <button onclick="testEngine()">Báº¯t Äáº§u Test</button>
    <div id="results"></div>

    <script src="./backend/recommendation-engine.js"></script>
    <script>
      async function testEngine() {
        const resultsDiv = document.getElementById("results");
        resultsDiv.innerHTML = "ğŸ”„ Äang test...";

        try {
          // Test 1: Khá»Ÿi táº¡o
          await recommendationEngine.initialize();
          resultsDiv.innerHTML += "<br>âœ… Khá»Ÿi táº¡o thÃ nh cÃ´ng";

          // Test 2: Láº¥y sáº£n pháº©m máº«u
          const samples = recommendationEngine.getSampleProducts(3);
          resultsDiv.innerHTML += `<br>âœ… Láº¥y ${samples.length} sáº£n pháº©m máº«u`;

          // Test 3: Äá» xuáº¥t
          if (samples.length > 0) {
            const testProductId = samples[0].id;
            const recommendations =
              await recommendationEngine.getRecommendations(
                testProductId,
                "hybrid",
                2
              );
            resultsDiv.innerHTML += `<br>âœ… Äá» xuáº¥t thÃ nh cÃ´ng: ${recommendations.length} káº¿t quáº£`;

            // Hiá»ƒn thá»‹ káº¿t quáº£
            recommendations.forEach((rec, index) => {
              resultsDiv.innerHTML += `
                            <br>ğŸ¯ ${index + 1}. ${rec.product.title_clean}
                            <br>   ğŸ“Š Score: ${rec.score.toFixed(3)}
                            <br>   ğŸ“ Reason: ${rec.reason}
                        `;
            });
          }

          resultsDiv.innerHTML += "<br><br>ğŸ‰ Táº¤T Cáº¢ TEST THÃ€NH CÃ”NG!";
        } catch (error) {
          resultsDiv.innerHTML += `<br>âŒ Lá»—i: ${error.message}`;
          console.error("Test Error:", error);
        }
      }
    </script>
  </body>
</html>
